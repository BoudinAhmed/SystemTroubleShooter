<Window x:Class="WindowsTroubleShooter.View.StartView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:WindowsTroubleShooter"
        xmlns:vm="clr-namespace:WindowsTroubleShooter.ViewModel"
        Title="Troubleshooter" Height="700" Width="1200"
        Foreground="#dddddd"
        FontFamily="Segoe UI" UseLayoutRounding="True" 
        WindowStyle="None" AllowsTransparency="True" Background="Transparent" 
        ResizeMode="NoResize">
    <Window.DataContext>
        <vm:StartViewModel/>
    </Window.DataContext>
    <Border CornerRadius="10" Background="#202020">
        <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="40"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>


            <Border Grid.Row="0" Grid.ColumnSpan="2"
                    Background="#2b2b2b"
                    CornerRadius="8,8,0,0"
                    SnapsToDevicePixels="True">
                <Grid Background="Transparent" MouseLeftButtonDown="DragWindow">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    <Image Width="20" Height="20" Margin="10,5,0,5"/>
                    <TextBlock Text="Troubleshooter" Foreground="#dddddd" VerticalAlignment="Center" Margin="10,0,0,0" Grid.Column="1"/>
                    <Button Style="{StaticResource TitleBarButtonStyle}" Content="&#xE921;" FontFamily="Segoe MDL2 Assets" Grid.Column="2" Click="MinimizeWindow"/>
                    <Button Style="{StaticResource TitleBarButtonStyle}" Content="&#xE922;" FontFamily="Segoe MDL2 Assets" Grid.Column="3" Click="MaximizeRestoreWindow"/>
                    <Button Style="{StaticResource TitleBarCloseButtonStyle}" Content="&#xE106;" FontFamily="Segoe MDL2 Assets" Grid.Column="4" Click="CloseWindow"/>
                </Grid>
            </Border>


            <Border Grid.Row="1" Grid.Column="0"
                    Background="#2b2b2b"
                    CornerRadius="0,0,0,8">
                <StackPanel Width="48">
                    
                    <Button Style="{StaticResource SideBarButtonStyle}" Content="&#xE80F;" FontFamily="Segoe MDL2 Assets" Margin="0,0,0,0"/>
                    <Button Style="{StaticResource SideBarButtonStyle}" Content="&#xEA37;" FontFamily="Segoe MDL2 Assets" Margin="0,10,0,0"/>
                    <Button Style="{StaticResource SideBarButtonStyle}" Content="&#xE710;" FontFamily="Segoe MDL2 Assets" Margin="0,10,0,0"/>
                    <Button Style="{StaticResource SideBarButtonStyle}" Content="&#xE713;" FontFamily="Segoe MDL2 Assets" Margin="0,339,0,0"/>
                    <Button Style="{StaticResource SideBarButtonStyle}" Content="&#xE946;" FontFamily="Segoe MDL2 Assets" Margin="0,10,0,0"/>
                </StackPanel>
            </Border>

            <Grid Grid.Row="1" Grid.Column="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <TextBlock
                Text="Troubleshooter Dashboard"
                Grid.Row="0"
                Margin="20,30,20,0"
                FontSize="22"
                FontWeight="SemiBold"
                HorizontalAlignment="Left" />

            <Button Grid.Row="0" HorizontalAlignment="Right" Style="{StaticResource ButtonStyle}" Margin="0,25,20,10">
                <Button.ContentTemplate>
                    <DataTemplate>
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="View History" VerticalAlignment="Center" />
                            <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xE81C;" VerticalAlignment="Center" Margin="5,0,0,0" />
                        </StackPanel>
                    </DataTemplate>
                </Button.ContentTemplate>
            </Button>

            <TextBlock
                Text="Choose an issue to begin troubleshooting:"
                Grid.Row="1"
                Margin="20,5,20,15"
                FontSize="16"
                Foreground="#bbbbbb"
                HorizontalAlignment="Left"/>

            <Border
                Grid.Row="1"
                Height="1"
                Background="#444444"
                Margin="20,40,20,20" />

            <ItemsControl Grid.Row="2" ItemsSource="{Binding IssueItems}">
                <ItemsControl.ItemsPanel>
                    <ItemsPanelTemplate>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                            </Grid.RowDefinitions>
                        </Grid>
                    </ItemsPanelTemplate>
                </ItemsControl.ItemsPanel>
                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <local:IssueItemControl DataContext="{Binding}"/>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
                <ItemsControl.ItemContainerStyle>
                    <Style TargetType="ContentPresenter">
                        <Setter Property="Grid.Column"
                                Value="{Binding Converter={StaticResource IndexToColumnConverter},
                                                RelativeSource={RelativeSource Self}}" />
                        <Setter Property="Grid.Row"
                                Value="{Binding Converter={StaticResource IndexToRowConverter},
                                                RelativeSource={RelativeSource Self}}" />
                        <Setter Property="Margin" Value="20,0,20,10" />
                    </Style>
                </ItemsControl.ItemContainerStyle>
            </ItemsControl>

            <Border Grid.Row="3" Margin="20,20,20,20" Background="#2b2b2b" CornerRadius="4" Padding="20">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <TextBlock Text="Suggest an Issue" FontWeight="SemiBold" FontSize="16" Margin="0,0,0,10"/>

                    <TextBlock Grid.Row="1" Text="Please provide feedback or suggest a new issue to be added to the list." Margin="0,0,0,10" Foreground="#bbbbbb"/>

                    <TextBox Grid.Row="2" Background="#3c3c3c" Foreground="#dddddd" BorderThickness="1" BorderBrush="#555555" AcceptsReturn="True" TextWrapping="Wrap" VerticalScrollBarVisibility="Auto" Height="100"/>

                    <Button Grid.Row="3" Content="Submit Feedback" Style="{StaticResource ButtonStyle}" HorizontalAlignment="Right" Margin="0,10,0,0"/>
                </Grid>
            </Border>

            <TextBlock
                Text="{Binding Version}"
                Grid.Row="4"
                HorizontalAlignment="Right"
                VerticalAlignment="Bottom"
                Margin="0,0,20,20" />
        </Grid>
    </Grid>
    </Border>


</Window>
